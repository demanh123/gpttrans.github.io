<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Dịch Từ với Gemini API</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        input, button, textarea { margin: 10px 0; width: 100%; }
        textarea { height: 100px; }
    </style>
</head>
<body>
    <h1>Dịch từ sang Tiếng Việt</h1>
    <input type="text" id="wordInput" placeholder="Nhập từ tiếng Anh..." />
    <button id="translateBtn">Dịch</button>
    <textarea id="output" placeholder="Kết quả sẽ hiện ở đây..." readonly></textarea>

    <script>
        const apiKey = "AIzaSyATtQBNy_Z-0CjVVnMTG2AQJHAWTh94Hog"; // Thay bằng API key thật
        const modelURL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent";

        document.getElementById("translateBtn").addEventListener("click", async () => {
            const word = document.getElementById("wordInput").value.trim();
            if (!word) {
                alert("Vui lòng nhập một từ!");
                return;
            }

            const prompt = `Dịch từ ${word} sang tiếng Việt`;

            try {
                const response = await fetch(modelURL, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "x-goog-api-key": apiKey
                    },
                    body: JSON.stringify({
                        contents: [
                            { parts: [{ text: prompt }] }
                        ]
                    })
                });

                const data = await response.json();

                // Kiểm tra cấu trúc trả về
                let translatedText = "";
                if (data.candidates && data.candidates.length > 0) {
                    translatedText = data.candidates[0].content[0].text || "";
                }

                document.getElementById("output").value = translatedText;

            } catch (error) {
                console.error(error);
                alert("Đã có lỗi xảy ra. Kiểm tra console để biết chi tiết.");
            }
        });
    </script>
</body>
</html>
